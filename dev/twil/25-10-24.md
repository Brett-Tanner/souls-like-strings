---
date: "2025-10-24"
title: "TWIL October 24th 2025"
tags: [dev, TWIL]
layout: _post.html
---

- I probably should have set up Playwright e2e tests for both projects we're responsible for consecutively
  - Now it's been long enough since the first I forgot the details but feel like it should be easier
  - Doesn't help that this time the React app is embedded in Rails
- Setting Playwright's `baseUrl` to `host.docker.internal:port` lets me make the initial request for the index page
  - But then the script/style tags still go to `localhost:port` since rails server/webpack doesn't know about the docker container
  - Rewriting the host to `host.docker.internal` fixes the tags, but breaks regular local dev
  - So either I change the Playwright setup script to also run a parallel webpack/rails server on a different port/with an ENV variable, just for Docker
  - Or I bring the whole app, Rails & embedded React, into the Docker container
  - Bringing them into the Docker container does seem more 'as intended'
  - But in CI we already have an 'app and all related dependencies' container which I could potentially run with the ENV variable
  - Plus the Rails app needs our main one plus a whole Localstack of dependencies to run locally, for example user creation errors without deps
- Don't just let it go if another team is doing work you think your team should be doing, in a way which will need to be duplicated later
  - Another team was designing their own 'upgraded' onboarding flow
  - I'm on the onboarding team
  - We had ~3 meetings with them in the past where I said variations of 'we could make this part of our authentication service'
  - Each time they were kinda like 'yeah we could', then there was never any follow up
  - Today I raised it with my manager, he reached out to them, and we had a meeting where we made some great progress on how our team could do it
  - But because it took so long to get to that point that their deadline is looming and we have other work with a deadline, they're still gonna make their own version and now we'll have to bring it in to the auth service later
  - If I'd pushed for it from the start we might have been able to avoid duplicating the work and had actual features to work on the last few months
- When debugging CI
  - If possible, run only the workflow you're debugging, or at least as few as possible
  - Within that workflow, run as few actions as possible to test what you need (e.g. just one test)
- Having a million different config options for stuff like text on individual buttons is not great
  - But figuring out categories (maybe ahead of time!) to group them under a single option is difficult
  - Maybe a 'custom text' option with EN/JP keys and keys for each translation you can override?
  - But maintaining that gets kinda complex potentially, double nesting in a JSONB field
- I am on the Onboarding team, but I'll spend the next two weeks making a frontend for Jira that makes it more difficult for CS to create support tickets

## Links

### [Beyond the Machine](https://frankchimero.com/blog/2025/beyond-the-machine/) - Frank Chimero

Yet another AI article, but this one has an interesting structure and taught me about interesting artists (as well as more about Rick Rubin, who is largely a mythical figure from my childhood listening to Kanye).

### [Quantity queries using has() selector](https://css-tip.com/quantity-queries/) - Temani Afif

`:has` continues to be the gift that keeps on giving, this time allowing you to select containers based on how many elements they contain. Definitely would have been helpful in the past for card containers.
